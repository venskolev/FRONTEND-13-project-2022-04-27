{"ast":null,"code":"var _jsxFileName = \"/home/user/Documents/DCI/backand/BACKEND-13-project-2022-04-27/frontend/src/components/upload.js\";\nimport React, { Component, useState } from \"react\";\nimport { Modal, Button } from \"react-bootstrap\";\nimport axios from \"axios\";\n\nconst Upload = () => {\n  const [show, setShow] = useState(false);\n  const [description, setDescription] = useState(\"\");\n  const [image, setImage] = useState(null);\n  const [error, setError] = useState(false);\n\n  const handleShow = () => setShow(true);\n\n  const handleClose = () => setShow(false);\n\n  const onSubmit = async e => {\n    e.preventDefault();\n\n    try {\n      const formData = new FormData();\n      formData.append(\"picture\", image, image.name);\n      formData.append(\"desc\", description);\n      let res = await axios.post(\"/api/upload\", formData);\n      setError(false);\n      handleClose();\n    } catch (error) {\n      setError(true);\n      console.error(error);\n    }\n  };\n\n  const fileData = () => {\n    if (image) return /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 9\n      }\n    }, \" \", /*#__PURE__*/React.createElement(\"em\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 11\n      }\n    }, \" \", image.name, \" \"), \" \");\n    return null;\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, \" \", /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-primary m-2\",\n    onClick: handleShow,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }\n  }, \" \", \"Upload\", \" \"), /*#__PURE__*/React.createElement(Modal, {\n    show: show,\n    onHide: handleClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }\n  }, \" \", /*#__PURE__*/React.createElement(Modal.Header, {\n    closeButton: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  }, \" \", /*#__PURE__*/React.createElement(Modal.Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 11\n    }\n  }, \"Upload Image\"), \" \"), \" \", /*#__PURE__*/React.createElement(Modal.Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  }, \" \", /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: onSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 11\n    }\n  }, \" \", /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }\n  }, \" \", /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"desc\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 15\n    }\n  }, \"description\"), \" \", /*#__PURE__*/React.createElement(\"input\", {\n    onChange: e => setDescription(e.target.value),\n    type: \"text\",\n    value: description,\n    className: \"form-control\",\n    required: true,\n    id: \"desc\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 15\n    }\n  }), \" \"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }\n  }, \" \", /*#__PURE__*/React.createElement(\"div\", {\n    className: \"custom-file\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 15\n    }\n  }, \" \", /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    onChange: e => setImage(e.target.files[0]),\n    className: \"custom-file-input\",\n    id: \"image\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"custom-file-label\",\n    htmlFor: \"image\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 17\n    }\n  }, \" \", image ? fileData() : \"Choose File\", \" \"), \" \"), \" \"), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"btn btn-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }\n  }, \" \", \"Submit\", \" \"), error ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 15\n    }\n  }, \" \", \"Some error occured uploading the file\", \" \") : null, \" \"), \" \"), /*#__PURE__*/React.createElement(Modal.Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }\n  }, \" \", /*#__PURE__*/React.createElement(Button, {\n    variant: \"secondary\",\n    onClick: handleClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 11\n    }\n  }, \" \", \"Close\", \" \"), \" \"), \" \"), \" \");\n};\n\nexport default Upload;","map":{"version":3,"sources":["/home/user/Documents/DCI/backand/BACKEND-13-project-2022-04-27/frontend/src/components/upload.js"],"names":["React","Component","useState","Modal","Button","axios","Upload","show","setShow","description","setDescription","image","setImage","error","setError","handleShow","handleClose","onSubmit","e","preventDefault","formData","FormData","append","name","res","post","console","fileData","target","value","files"],"mappings":"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","sourcesContent":["import React, { Component, useState } from \"react\";\nimport { Modal, Button } from \"react-bootstrap\";\nimport axios from \"axios\";\n\nconst Upload = () => {\n  const [show, setShow] = useState(false);\n  const [description, setDescription] = useState(\"\");\n  const [image, setImage] = useState(null);\n  const [error, setError] = useState(false);\n  const handleShow = () => setShow(true);\n  const handleClose = () => setShow(false);\n  const onSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      const formData = new FormData();\n      formData.append(\"picture\", image, image.name);\n      formData.append(\"desc\", description);\n      let res = await axios.post(\"/api/upload\", formData);\n      setError(false);\n      handleClose();\n    } catch (error) {\n      setError(true);\n      console.error(error);\n    }\n  };\n  const fileData = () => {\n    if (image)\n      return (\n        <h5>\n          {\" \"}\n          <em> {image.name} </em>{\" \"}\n        </h5>\n      );\n    return null;\n  };\n  return (\n    <>\n      {\" \"}\n      <button className=\"btn btn-primary m-2\" onClick={handleShow}>\n        {\" \"}\n        Upload{\" \"}\n      </button>\n      <Modal show={show} onHide={handleClose}>\n        {\" \"}\n        <Modal.Header closeButton>\n          {\" \"}\n          <Modal.Title>Upload Image</Modal.Title>{\" \"}\n        </Modal.Header>{\" \"}\n        <Modal.Body>\n          {\" \"}\n          <form onSubmit={onSubmit}>\n            {\" \"}\n            <div className=\"form-group\">\n              {\" \"}\n              <label htmlFor=\"desc\">description</label>{\" \"}\n              <input\n                onChange={(e) => setDescription(e.target.value)}\n                type=\"text\"\n                value={description}\n                className=\"form-control\"\n                required\n                id=\"desc\"\n              />{\" \"}\n            </div>\n            <div className=\"form-group\">\n              {\" \"}\n              <div className=\"custom-file\">\n                {\" \"}\n                <input\n                  type=\"file\"\n                  onChange={(e) => setImage(e.target.files[0])}\n                  className=\"custom-file-input\"\n                  id=\"image\"\n                />\n                <label className=\"custom-file-label\" htmlFor=\"image\">\n                  {\" \"}\n                  {image ? fileData() : \"Choose File\"}{\" \"}\n                </label>{\" \"}\n              </div>{\" \"}\n            </div>\n            <button type=\"submit\" className=\"btn btn-primary\">\n              {\" \"}\n              Submit{\" \"}\n            </button>\n            {error ? (\n              <div className=\"text-danger\">\n                {\" \"}\n                Some error occured uploading the file{\" \"}\n              </div>\n            ) : null}{\" \"}\n          </form>{\" \"}\n        </Modal.Body>\n        <Modal.Footer>\n          {\" \"}\n          <Button variant=\"secondary\" onClick={handleClose}>\n            {\" \"}\n            Close{\" \"}\n          </Button>{\" \"}\n        </Modal.Footer>{\" \"}\n      </Modal>{\" \"}\n    </>\n  );\n};\nexport default Upload;\n"]},"metadata":{},"sourceType":"module"}